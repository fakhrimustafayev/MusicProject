@* @model IEnumerable<MusicProject.Models.Release> *@
@*  @model List<SpotifyTrack>  *@
@* @model List<PlaylistTrack> *@
@* @model MusicProject.Models.PlaylistResponse *@
@* @model SpotifyPlaylistResponse *@

@* @model MusicProject.Models.HomeResponse *@

@* @model PodcastEpisode *@
@* @model List<MusicProject.Models.PodcastEpisode> *@

  @*   @model MusicProject.Models.TrackRecommendationResponse *@

  @model MusicProject.ViewModels.IndexViewModel
@*   @model TopArtist[] *@

@* @model SpotifyArtistResponse *@

@* @model ArtistOverviewResponse *@






@* <style>
    th, td {
        text-align: right;
    }
</style> *@
@* <h1>@Model.data.home.greeting.text</h1> *@


@* @{
    ViewData["Title"] = "Playlists";
}
 *@

@{
   //var topTracks = ViewBag.TopTracks;
    ViewData["Title"] = "Home Page";
}

<main class="main-content">
    @await Html.PartialAsync("/Views/Partials/NavbarPartial.cshtml")
    <div class="content-inner container-fluid pb-0" id="page_layout">
        <div class="row mb-5">
@*             @await Html.PartialAsync("/Views/Partials/AsidePartial.cshtml") *@
            <div class="col-lg-12">
                <div class="card-header">
                    <div class="header-title">
                        <h4 class="card-title text-capitalize mb-3">Playlists</h4>
                    </div>
                </div>
            </div>
            <style>
                th, td {
                    text-align: right;
                }
            </style>

            <div class="row">
                @foreach (var sectionItem in Model.HomeResponse.data.home.sectionContainer.sections.items)
                {
                    for (int i = 1; i < sectionItem.sectionItems.items.Length; i++) // Start from index 1
                    {
                        var playlistItem = sectionItem.sectionItems.items[i];
                        <div class="col-xl-3 col-md-6 mb-3">
                            <div class="bg-soft-info position-relative rounded-3 card-box mb-3">
                                <a href="@Url.Action("Details", "Playlists", new { playlistId = playlistItem.uri.Substring("spotify:playlist:".Length) })">
                                    <!-- Updated anchor tag with substring -->
                                    <!-- Updated anchor tag -->
                                    <!-- Add hyperlink to playlist -->
                                    @if (playlistItem.content.data.images?.items != null && playlistItem.content.data.images.items.Any())
                                    {
                                        var imageUrl = playlistItem.content.data.images.items.FirstOrDefault()?.sources.FirstOrDefault()?.url;
                                        if (!string.IsNullOrEmpty(imageUrl))
                                        {
                                            <img src="@imageUrl" alt="Playlist Image" style="max-width: 285px; max-height: 285px;" />
                                        }
                                        else
                                        {
                                            <p>No image available</p>
                                        }
                                    }
                                    <div class="d-flex align-items-center play-list-icon">
                                    </div>
                                    <h6 class="fw-bold text-capitalize">@playlistItem.content.data.name</h6>
                                    <small class="fw-normal line-count-1 text-capitalize">@playlistItem.content.data.description</small>
                                </a>
                            </div>
                        </div>
                    }
                }
            </div>

        </div>
    </div>
    <div class="col-lg-12">
        <div class="card-header mb-3">
            <div class="header-title d-flex justify-content-between align-items-center">
                <h4 class="card-title text-capitalize">TOP 50 Trending songs</h4>
                <div class="common-album position-relative d-lg-block d-none">
                    <div class="swiper-button-prev" id="prev2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19" fill="none">
                            <path d="M15.75 9.5C15.75 9.64918 15.6908 9.79226 15.5853 9.89775C15.4798 10.0032 15.3367 10.0625 15.1875 10.0625H4.17025L8.27298 14.1645C8.32525 14.2168 8.3667 14.2788 8.39499 14.3471C8.42327 14.4154 8.43783 14.4886 8.43783 14.5625C8.43783 14.6364 8.42327 14.7096 8.39499 14.7779C8.3667 14.8462 8.32525 14.9082 8.27298 14.9605C8.22072 15.0127 8.15868 15.0542 8.09039 15.0825C8.02211 15.1108 7.94893 15.1253 7.87502 15.1253C7.80111 15.1253 7.72792 15.1108 7.65964 15.0825C7.59135 15.0542 7.52931 15.0127 7.47705 14.9605L2.41455 9.89797C2.36225 9.84573 2.32076 9.78369 2.29245 9.7154C2.26414 9.64712 2.24957 9.57392 2.24957 9.5C2.24957 9.42608 2.26414 9.35288 2.29245 9.2846C2.32076 9.21631 2.36225 9.15427 2.41455 9.10203L7.47705 4.03953C7.58259 3.93398 7.72575 3.87469 7.87502 3.87469C8.02428 3.87469 8.16744 3.93398 8.27298 4.03953C8.37853 4.14508 8.43783 4.28823 8.43783 4.4375C8.43783 4.58677 8.37853 4.72992 8.27298 4.83547L4.17025 8.9375H15.1875C15.3367 8.9375 15.4798 8.99676 15.5853 9.10225C15.6908 9.20774 15.75 9.35082 15.75 9.5Z"
                                  fill="#4A525F" />
                        </svg>
                    </div>
                    <div class="swiper-button-next" id="next2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19" fill="none">
                            <path d="M15.5855 9.89797L10.523 14.9605C10.4174 15.066 10.2743 15.1253 10.125 15.1253C9.97573 15.1253 9.83258 15.066 9.72703 14.9605C9.62148 14.8549 9.56219 14.7118 9.56219 14.5625C9.56219 14.4132 9.62148 14.2701 9.72703 14.1645L13.8298 10.0625H2.8125C2.66332 10.0625 2.52024 10.0032 2.41475 9.89775C2.30926 9.79226 2.25 9.64918 2.25 9.5C2.25 9.35082 2.30926 9.20774 2.41475 9.10225C2.52024 8.99676 2.66332 8.9375 2.8125 8.9375H13.8298L9.72703 4.83547C9.62148 4.72992 9.56219 4.58677 9.56219 4.4375C9.56219 4.28823 9.62148 4.14508 9.72703 4.03953C9.83258 3.93398 9.97573 3.87469 10.125 3.87469C10.2743 3.87469 10.4174 3.93398 10.523 4.03953L15.5855 9.10203C15.6378 9.15427 15.6793 9.21631 15.7076 9.2846C15.7359 9.35288 15.7504 9.42608 15.7504 9.5C15.7504 9.57392 15.7359 9.64712 15.7076 9.7154C15.6793 9.78369 15.6378 9.84573 15.5855 9.89797Z"
                                  fill="currentColor" />
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-12">
            <div class="swiper-container overflow-hidden" data-swiper="songs-slider">
                <div class="swiper-wrapper p-0 list-unstyled mb-0" style="display: flex;">
                    @foreach (var track in Model.TrackRecommendationResponse.tracks)
                    {
                        <div class="swiper-slide mb-3 col-md-4" style="flex: 0 0 auto; width: 200px;">
                            <div class="card">
                                <img src="@track.album.images.FirstOrDefault()?.url" class="card-img-top" alt="@track.name" style="object-fit: cover; width: 200px; height: 200px;">
                                <div class="card-body" style="width: 200px; height: 200px;">
                                    <h5 class="card-title text-truncate" style="max-width: 100%;">@track.name</h5>
                                    <p class="card-text text-truncate" style="max-width: 100%;">@string.Join(", ", track.artists.Select(a => a.name))</p>
                                    <button class="btn btn-primary toggle-favorite" data-track-id="@track.id" data-is-favorite="@track.IsFavorite">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                                        </svg>
                                    </button>
                                    <button class="btn btn-primary play-preview" data-preview-url="@track.preview_url">Play</button>
                                    <audio class="audio-preview" preload="none" src="@track.preview_url"></audio>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script>
            $(document).ready(function () {
                $('.toggle-favorite').click(function () {
                    var trackId = $(this).data('track-id');
                    var isFavorite = $(this).data('is-favorite');

                    $.ajax({
                        type: 'POST',
                        url: '/Track/MyFavorites',
                        data: { trackId: trackId, isFavorite: isFavorite },
                        success: function (response) {
                            if (response.success) {
                                // Update UI or show success message
                            } else {
                                // Handle errors or show error message
                            }
                        },
                        error: function (xhr, status, error) {
                            // Handle errors or show error message
                        }
                    });
                });
            });

        </script>



    <script>
        // Wait for the document to be fully loaded
        document.addEventListener("DOMContentLoaded", function () {
            // Get all elements with the class "play-preview"
            const playButtons = document.querySelectorAll(".play-preview");
            const audioElements = document.querySelectorAll(".audio-preview");

            // Function to pause all other audio elements except the specified one
            function pauseOtherAudioElements(currentAudio) {
                audioElements.forEach(audio => {
                    if (audio !== currentAudio && !audio.paused) {
                        audio.pause(); // Pause the audio
                        const playButton = audio.parentElement.querySelector(".play-preview");
                        if (playButton) {
                            playButton.textContent = "Play"; // Change button text back to "Play"
                        }
                    }
                });
            }

            // Iterate over each play button
            playButtons.forEach(button => {
                // Add a click event listener to each button
                button.addEventListener("click", function (event) {
                    event.preventDefault(); // Prevent default button behavior
                    const previewUrl = button.getAttribute("data-preview-url");
                    if (previewUrl) {
                        // Get the associated audio element
                        const audio = button.parentElement.querySelector(".audio-preview");
                        if (audio) {
                            // Pause all other audio elements except the current one
                            pauseOtherAudioElements(audio);
                            // Check if the audio is currently playing
                            if (audio.paused) {
                                audio.play(); // Play the audio
                                button.textContent = "Pause"; // Change button text to "Pause"
                            } else {
                                audio.pause(); // Pause the audio
                                button.textContent = "Play"; // Change button text back to "Play"
                            }
                        }
                    } else {
                        console.log("Preview URL not available.");
                    }
                });
            });
        });

    </script>




     <div class="row mb-5">
        <div class="col-lg-12">
            <div class="card-header mb-3">
                <div class="header-title">
                    <h4 class="card-title text-capitalize">top artists</h4>
                </div>
                <div class="common-album position-relative d-lg-block d-none">
                    <div class="swiper-button-prev" id="prev1">
                        <!-- Previous button SVG -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19" fill="none">
                            <path d="M15.75 9.5C15.75 9.64918 15.6908 9.79226 15.5853 9.89775C15.4798 10.0032 15.3367 10.0625 15.1875 10.0625H4.17025L8.27298 14.1645C8.32525 14.2168 8.3667 14.2788 8.39499 14.3471C8.42327 14.4154 8.43783 14.4886 8.43783 14.5625C8.43783 14.6364 8.42327 14.7096 8.39499 14.7779C8.3667 14.8462 8.32525 14.9082 8.27298 14.9605C8.22072 15.0127 8.15868 15.0542 8.09039 15.0825C8.02211 15.1108 7.94893 15.1253 7.87502 15.1253C7.80111 15.1253 7.72792 15.1108 7.65964 15.0825C7.59135 15.0542 7.52931 15.0127 7.47705 14.9605L2.41455 9.89797C2.36225 9.84573 2.32076 9.78369 2.29245 9.7154C2.26414 9.64712 2.24957 9.57392 2.24957 9.5C2.24957 9.42608 2.26414 9.35288 2.29245 9.2846C2.32076 9.21631 2.36225 9.15427 2.41455 9.10203L7.47705 4.03953C7.58259 3.93398 7.72575 3.87469 7.87502 3.87469C8.02428 3.87469 8.16744 3.93398 8.27298 4.03953C8.37853 4.14508 8.43783 4.28823 8.43783 4.4375C8.43783 4.58677 8.37853 4.72992 8.27298 4.83547L4.17025 8.9375H15.1875C15.3367 8.9375 15.4798 8.99676 15.5853 9.10225C15.6908 9.20774 15.75 9.35082 15.75 9.5Z"
                                  fill="#4A525F" />
                        </svg>
                    </div>
                    <div class="swiper-button-next" id="next1">
                        <!-- Next button SVG -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19" fill="none">
                            <path d="M15.5855 9.89797L10.523 14.9605C10.4174 15.066 10.2743 15.1253 10.125 15.1253C9.97573 15.1253 9.83258 15.066 9.72703 14.9605C9.62148 14.8549 9.56219 14.7118 9.56219 14.5625C9.56219 14.4132 9.62148 14.2701 9.72703 14.1645L13.8298 10.0625H2.8125C2.66332 10.0625 2.52024 10.0032 2.41475 9.89775C2.30926 9.79226 2.25 9.64918 2.25 9.5C2.25 9.35082 2.30926 9.20774 2.41475 9.10225C2.52024 8.99676 2.66332 8.9375 2.8125 8.9375H13.8298L9.72703 4.83547C9.62148 4.72992 9.56219 4.58677 9.56219 4.4375C9.56219 4.28823 9.62148 4.14508 9.72703 4.03953C9.83258 3.93398 9.97573 3.87469 10.125 3.87469C10.2743 3.87469 10.4174 3.93398 10.523 4.03953L15.5855 9.10203C15.6378 9.15427 15.6793 9.21631 15.7076 9.2846C15.7359 9.35288 15.7504 9.42608 15.7504 9.5C15.7504 9.57392 15.7359 9.64712 15.7076 9.7154C15.6793 9.78369 15.6378 9.84573 15.5855 9.89797Z"
                                  fill="currentColor" />
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        <div class="swiper-container overflow-hidden" data-swiper="artists-slider">
            <div class="swiper-wrapper p-0 list-unstyled mb-0">
                @if (Model != null && Model.SpotifyArtistResponse.artists != null && Model.SpotifyArtistResponse.artists.Any())
                {
                    foreach (var artist in Model.SpotifyArtistResponse.artists)
                    {
                        <div class="swiper-slide">
                            <div class="col-md-6 mb-4">
                                <div class="card" style="width: 400px;">
                                    <a href="@Url.Action("Index", "Artists", new { id = artist.id })">
                                        <img src="@artist.images.FirstOrDefault()?.url" class="card-img-top" alt="@artist.name" style="object-fit: cover; width: 200px; height: 200px;">
                                    </a>
                                    <div class="card-body" style="width: 200px; height: 150px;">
                                        <h5 class="card-title text-truncate">@artist.name</h5>
                                        @{
                                            decimal followersCount = artist.followers?.total ?? 0;
                                            string followersDisplay = $"{followersCount / 1000000M:0}M";
                                        }
                                        <p class="card-text text-muted mb-1">Followers: @followersDisplay</p>
                                        <p class="card-text text-muted mb-1">Popularity: @artist.popularity</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                }
                else
                {
                    <div class="swiper-slide">
                        <p>No artist data available.</p>
                    </div>
                }
            <!-- Add pagination bullets here if needed -->
        </div>
    </div>

        @section Scripts {
            <!-- Include Swiper JS and initialize Swiper -->
            <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
            <script>
                var songsSwiper = new Swiper('[data-swiper="songs-slider"]', {
                    slidesPerView: 'auto',
                    spaceBetween: 30,
                    navigation: {
                        nextEl: '#next2',
                        prevEl: '#prev2',
                    },
                });

                var artistsSwiper = new Swiper('[data-swiper="artists-slider"]', {
                    slidesPerView: 'auto',
                    spaceBetween: 30,
                    navigation: {
                        nextEl: '#next1',
                        prevEl: '#prev1',
                    },
                });
            </script>
        }

@*       @if (Model != null && Model.GetTrackResponse.tracks != null && Model.GetTrackResponse.tracks.Length > 0)
      {
           <div>
                    @foreach (var track in Model.GetTrackResponse.tracks)
        {
            <div>
                <h2>@track.name</h2>
                <p>Album: @track.album.name</p>
                <p>Artist(s): 
                    @foreach (var artist in track.artists)
                    {
                        <span>@artist.name</span>
                        @if (!artist.Equals(track.artists.Last()))
                        {
                            <span>, </span>
                        }
                    }
                </p>
                <p>Duration: @TimeSpan.FromMilliseconds(track.duration_ms).ToString(@"mm\:ss")</p>
                <p>Popularity: @track.popularity</p>
                @if (!string.IsNullOrEmpty(track.preview_url))
                {
                    <p>
                        <audio controls>
                            <source src="@track.preview_url" type="audio/mpeg">
                            Your browser does not support the audio element.
                        </audio>
                    </p>
                }
                <hr />
            </div>
        }
          </div>
    }
            else
             {
                <p>No tracks found.</p>
            } *@
    @*  @foreach (var track in Model)
    {
    <div class="col-xl-3 col-md-6 mb-3">
    <div class="bg-soft-info position-relative rounded-3 card-box mb-3">
    <img src="@track.TrackMetadata.DisplayImageUri" class="img-fluid mx-auto d-block" alt="play-img">
    <div class="d-flex align-items-center play-list-icon">
    <!-- Display track details as needed -->
    <span class="ms-2 fw-semibold text-capitalize">@track.TrackMetadata.TrackName</span>
    </div>
    </div>
    <a href="@Url.Action("Details", "Track", new { id = track.TrackMetadata.TrackUri })" class="text-capitalize h5">@track.TrackMetadata.TrackName</a>
    <small class="fw-normal line-count-1 text-capitalize">Artist: @track.TrackMetadata.Artists.FirstOrDefault()?.Name</small>
    </div>
    } *@
            @* <style>
                .track-name {
                    padding-left: 20px; /* Adjust the padding as needed */
                }

                /* Add more styles as needed */
            </style>

            <table>
                <thead>
                    <tr>
                        <th style="padding-left: 20px;">Track Name</th>
                        <th>Artists</th>
                        <th>Added By</th>
                        <th>Preview URL</th>
                        <th>Available Markets</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var track in Model)
                    {
                        <tr>
                            <td class="track-name">@track.Track.Name</td>
                            <td>
                                @foreach (var artist in track.Track.Album.Artists)
                                {
                                    <span>@artist.Name</span>
                                }
                            </td>
                            @*  <td>@track.AddedBy.Spotify</td> *@
                   @*         <td><a href="@track.Track.PreviewUrl">Preview</a></td>
                            <td>
                                @if (track.Track.AvailableMarkets != null)
                                {
                                    @string.Join(", ", track.Track.AvailableMarkets)
                                }
                            </td>
                        </tr>
                    }
                </tbody>
            </table>*@

    
@* 
  <div class="row mb-4">
    <div class="col-lg-12">
        <div class="card-header mb-3">
            <div class="header-title d-flex align-items-center justify-content-between">
                <h4 class="card-title text-capitalize">Trending Songs</h4>
                <a href="release.html" class="small text-body">
                    View All
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="15" viewBox="0 0 14 15" fill="none">
                        <path d="M10.9375 4V9.6875C10.9375 9.80353 10.8914 9.91481 10.8094 9.99686C10.7273 10.0789 10.616 10.125 10.5 10.125C10.384 10.125 10.2727 10.0789 10.1906 9.99686C10.1086 9.91481 10.0625 9.80353 10.0625 9.6875V5.05602L3.80953 11.3095C3.72744 11.3916 3.6161 11.4377 3.5 11.4377C3.3839 11.4377 3.27256 11.3916 3.19047 11.3095C3.10838 11.2274 3.06226 11.1161 3.06226 11C3.06226 10.8839 3.10838 10.7726 3.19047 10.6905L9.44398 4.4375H4.8125C4.69647 4.4375 4.58519 4.39141 4.50314 4.30936C4.42109 4.22731 4.375 4.11603 4.375 4C4.375 3.88397 4.42109 3.77269 4.50314 3.69064C4.58519 3.60859 4.69647 3.5625 4.8125 3.5625H10.5C10.616 3.5625 10.7273 3.60859 10.8094 3.69064C10.8914 3.77269 10.9375 3.88397 10.9375 4Z" fill="#4A525F" />
                    </svg>
                </a>
            </div>
        </div>
    </div>
</div>

<div class="row row-cols-lg-6 row-cols-md-4 row-cols-2 list-unstyled mb-0">
    @foreach (var track in Model.tracks)
    {
        <div class="col-md-4 mb-3">
            <div class="card">
                <img src="@track.album.images.FirstOrDefault()?.url" class="card-img-top" alt="@track.name">
                <div class="card-body" style="height: 120px;">
                    <h5 class="card-title">@track.name</h5>
                    <p class="card-text">Artists: @string.Join(", ", track.artists.Select(a => a.name))</p>
                    <a href="@track.external_urls.spotify" class="btn btn-primary" target="_blank">Play on Spotify</a>
                </div>
            </div>
        </div>
    }
</div> *@



    @* <div class="row mb-4">
        <div class="col-lg-12">
            <div class="card-header mb-3">
                <div class="header-title d-flex align-items-center justify-content-between">
                    <h4 class="card-title text-capitalize">trending songs</h4>
                    <a href="release.html" class="small text-body">
                        View All
                        <svg xmlns="http://www.w3.org/2000/svg" width="14"
                             height="15" viewBox="0 0 14 15" fill="none">
                            <path d="M10.9375 4V9.6875C10.9375 9.80353 10.8914 9.91481 10.8094 9.99686C10.7273 10.0789 10.616 10.125 10.5 10.125C10.384 10.125 10.2727 10.0789 10.1906 9.99686C10.1086 9.91481 10.0625 9.80353 10.0625 9.6875V5.05602L3.80953 11.3095C3.72744 11.3916 3.6161 11.4377 3.5 11.4377C3.3839 11.4377 3.27256 11.3916 3.19047 11.3095C3.10838 11.2274 3.06226 11.1161 3.06226 11C3.06226 10.8839 3.10838 10.7726 3.19047 10.6905L9.44398 4.4375H4.8125C4.69647 4.4375 4.58519 4.39141 4.50314 4.30936C4.42109 4.22731 4.375 4.11603 4.375 4C4.375 3.88397 4.42109 3.77269 4.50314 3.69064C4.58519 3.60859 4.69647 3.5625 4.8125 3.5625H10.5C10.616 3.5625 10.7273 3.60859 10.8094 3.69064C10.8914 3.77269 10.9375 3.88397 10.9375 4Z"
                                  fill="#4A525F" />
                        </svg>
                    </a>
                </div>
            </div>
        </div>
        <ul class="row row-cols-lg-6 row-cols-md-4  row-cols-2 list-unstyled mb-0">
            <li class="col">
                <div class="card">
                    <div class="card-body">
                     @foreach (var track in Model.tracks)
                    {
                        <div class="col-md-4 mb-3">
                            <div class="card">
                                <img src="@track.album.images.FirstOrDefault()?.url" class="card-img-top" alt="@track.name">
                                <div class="card-body">
                                    <h5 class="card-title">@track.name</h5>
                                    <p class="card-text">Artists: @string.Join(", ", track.artists.Select(a => a.name))</p>
                                    <a href="@track.external_urls.spotify" class="btn btn-primary" target="_blank">Play on Spotify</a>
                                </div>
                            </div>
                        </div>
                    } 
                    </div>
                </div>
            </li>
        </ul>
    </div>  *@
   

@*     <h1>@Model.data.artist.profile.name</h1>

    <h2>Biography</h2>
    <p>@Model.data.artist.profile.biography?.text</p>

    <h2>External Links</h2>
    <ul>
        @if (Model.data.artist.profile.externalLinks != null)
        {
            @foreach (var link in Model.data.artist.profile.externalLinks.items)
            {
                <li><a href="@link.url" target="_blank">@link.name</a></li>
            }
        }
    </ul>

    <h2>Top Tracks</h2>
    <ul>
        @if (Model.data.artist.discography.topTracks != null)
        {
            @foreach (var track in Model.data.artist.discography.topTracks.items)
            {
                <li>
                    <p>Name: @track.track.name</p>
                    <p>Playcount: @track.track.playcount</p>
                    <p>Duration: @track.track.duration.totalMilliseconds</p>
                </li>
            }
        }
    </ul>

    <h2>Visuals</h2>
    @if (Model.data.artist.visuals != null && Model.data.artist.visuals.avatarImage != null && Model.data.artist.visuals.avatarImage.sources != null && Model.data.artist.visuals.avatarImage.sources.Length > 0)
    {
        <img src="@Model.data.artist.visuals.avatarImage.sources[0].url" alt="Avatar Image">
    }

    <h2>Stats</h2>
    <p>Followers: @Model.data.artist.stats?.followers</p>
    <p>Monthly Listeners: @Model.data.artist.stats?.monthlyListeners</p>
    <p>World Rank: @Model.data.artist.stats?.worldRank</p> *@

         @*    <div class="col-xl-3 col-md-6 mb-3">
                <div class="bg-soft-info position-relative rounded-3 card-box mb-3">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th> </th>
                                <th>Title</th>
                                <th>Description</th>

                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var sectionItem in Model.data.home.sectionContainer.sections.items)
                            {
                                foreach (var playlistItem in sectionItem.sectionItems.items)
                                {
                                    <tr>
                                        <td>
                                            @if (playlistItem.content.data.images?.items != null && playlistItem.content.data.images.items.Any())
                                            {
                                                var imageUrl = playlistItem.content.data.images.items.FirstOrDefault()?.sources.FirstOrDefault()?.url;
                                                if (!string.IsNullOrEmpty(imageUrl))
                                                {
                                                    <img @* width="80" height="80" style="border-radius:40px" *@  @* src="@imageUrl" alt="Playlist Image" style="max-width: 100px; max-height: 100px;" />
                                                }
                                                else
                                                {
                                                    <p>No image available</p>
                                                }
                                            }
                                                    else
                                    {
                                    <p>No image available</p>
                                    } *@
                                       @* </td>
                                        <td>@playlistItem.content.data.name</td>
                                        <td>@playlistItem.content.data.description</td>

                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div> *@
      
    <div class="row mb-5">
        <div class="col-lg-12">
            <div class="card-header mb-3">
               @*  <div class="header-title d-flex align-items-center justify-content-between">
                    <h4 class="card-title text-capitalize">@Model.Name</h4>
                    <a href="@Model.ShareUrl" class="small text-body">
                        Listen on Spotify
                    </a>
                </div>
            </div>
        </div>
        <div class="col-lg-12">
            <div class="card">
                <img src="@Model.CoverImages.FirstOrDefault()?.Url" class="card-img-top" alt="Episode Cover">
                <div class="card-body">
                    <h5 class="card-title">@Model.Name</h5>
                    <p class="card-text">@Model.Description</p>
                    <p class="card-text">Duration: @Model.DurationText</p>
                    <p class="card-text">Date: @Model.Date.ToString("yyyy-MM-dd HH:mm:ss")</p>
                    <a href="@Model.ShareUrl" class="btn btn-primary">Listen on Spotify</a>
                </div> *@
            </div>
        </div>
    </div>
    <div class="card border-top mb-0">
        <diiv class="card-body">
            <div class="d-flex align-items-center justify-content-between flex-md-row flex-column gap-3">
                <div class="">
                    <ul class="list-unstyled p-0 m-0 mb-3 text-capitalize d-flex gap-3 flex-md-nowrap flex-wrap">
                        <li>about</li>
                        <li>|</li>
                        <li>terms of use</li>
                        <li>|</li>
                        <li>privacy policy</li>
                        <li>|</li>
                        <li>support</li>
                        <li>|</li>
                        <li>feedback</li>
                        <li>|</li>
                    </ul>
                    <small>Copyright <span id="copyright"> 
    <script>document.getElementById('copyright').appendChild(document.createTextNode(new Date().getFullYear()))</script>
    </span>. Made with love by Iqonic Design.</small>
                </div>
                <div>
                    <ul class="list-unstyled m-0 p-0 d-flex align-items-center gap-3">
                        <li>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M5.026 15C11.064 15 14.367 9.99702 14.367 5.66602C14.367 5.52602 14.367 5.38402 14.361 5.24402C15.0041 4.77851 15.5591 4.20217 16 3.54202C15.3993 3.80687 14.7628 3.98143 14.111 4.06002C14.7975 3.64966 15.3117 3.00399 15.558 2.24302C14.913 2.62515 14.207 2.8934 13.471 3.03602C12.9762 2.50905 12.3214 2.15994 11.6081 2.04278C10.8948 1.92562 10.1627 2.04694 9.52534 2.38796C8.88796 2.72897 8.38081 3.27065 8.08245 3.92908C7.78409 4.58751 7.71118 5.32595 7.875 6.03002C6.56974 5.96457 5.29282 5.62549 4.12704 5.03476C2.96127 4.44404 1.93268 3.61487 1.108 2.60102C0.68934 3.3241 0.561574 4.17942 0.750646 4.99329C0.939718 5.80715 1.43145 6.51855 2.126 6.98302C1.60554 6.96534 1.09652 6.82558 0.64 6.57502V6.62002C0.640897 7.3775 0.903307 8.11144 1.38287 8.69778C1.86244 9.28412 2.52975 9.68689 3.272 9.83802C2.99026 9.91564 2.69923 9.95433 2.407 9.95302C2.20098 9.95365 1.99538 9.93456 1.793 9.89602C2.00279 10.5481 2.41127 11.1182 2.96125 11.5265C3.51122 11.9348 4.17513 12.1609 4.86 12.173C3.69656 13.0868 2.2594 13.5824 0.78 13.58C0.519321 13.5811 0.258823 13.5661 0 13.535C1.50151 14.4923 3.2453 15.0006 5.026 15Z" fill="#4A525F"/>
                            </svg>
                        </li>
                        <li>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <g clip-path="url(#clip0_389_2574)">
                                    <path d="M0 1.146C0 0.513 0.526 0 1.175 0H14.825C15.474 0 16 0.513 16 1.146V14.854C16 15.487 15.474 16 14.825 16H1.175C0.526 16 0 15.487 0 14.854V1.146ZM4.943 13.394V6.169H2.542V13.394H4.943ZM3.743 5.182C4.58 5.182 5.101 4.628 5.101 3.934C5.086 3.225 4.581 2.686 3.759 2.686C2.937 2.686 2.4 3.226 2.4 3.934C2.4 4.628 2.921 5.182 3.727 5.182H3.743ZM8.651 13.394V9.359C8.651 9.143 8.667 8.927 8.731 8.773C8.904 8.342 9.299 7.895 9.963 7.895C10.832 7.895 11.179 8.557 11.179 9.529V13.394H13.58V9.25C13.58 7.03 12.396 5.998 10.816 5.998C9.542 5.998 8.971 6.698 8.651 7.191V7.216H8.635C8.64031 7.20765 8.64564 7.19932 8.651 7.191V6.169H6.251C6.281 6.847 6.251 13.394 6.251 13.394H8.651Z" fill="#4A525F"/>
                                </g>
                                <defs>
                                    <clipPath id="clip0_389_2574">
                                    <rect width="16" height="16" fill="white"/>
                                    </clipPath>
                                </defs>
                            </svg>
                        </li>
                        <li>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <g clip-path="url(#clip0_389_2576)">
                                    <path d="M16 8.04902C16 3.60302 12.418 -0.000976562 8.00005 -0.000976562C3.58005 2.34375e-05 -0.00195312 3.60302 -0.00195312 8.05002C-0.00195312 12.067 2.92405 15.397 6.74805 16.001V10.376H4.71805V8.05002H6.75005V6.27502C6.75005 4.25802 7.94505 3.14402 9.77205 3.14402C10.648 3.14402 11.563 3.30102 11.563 3.30102V5.28102H10.554C9.56105 5.28102 9.25105 5.90202 9.25105 6.53902V8.04902H11.469L11.115 10.375H9.25005V16C13.074 15.396 16 12.066 16 8.04902Z" fill="#FF4545"/>
                                </g>
                                <defs>
                                    <clipPath id="clip0_389_2576">
                                    <rect width="16" height="16" fill="white"/>
                                    </clipPath>
                                </defs>
                            </svg>
                        </li>
                        <li>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <g clip-path="url(#clip0_389_2578)">
                                    <path d="M8 0C5.829 0 5.556 0.01 4.703 0.048C3.85 0.088 3.269 0.222 2.76 0.42C2.22609 0.620819 1.74249 0.935826 1.343 1.343C0.936076 1.7427 0.621107 2.22624 0.42 2.76C0.222 3.268 0.087 3.85 0.048 4.7C0.01 5.555 0 5.827 0 8.001C0 10.173 0.01 10.445 0.048 11.298C0.088 12.15 0.222 12.731 0.42 13.24C0.625 13.766 0.898 14.212 1.343 14.657C1.787 15.102 2.233 15.376 2.759 15.58C3.269 15.778 3.849 15.913 4.701 15.952C5.555 15.99 5.827 16 8 16C10.173 16 10.444 15.99 11.298 15.952C12.149 15.912 12.732 15.778 13.241 15.58C13.7746 15.3791 14.2578 15.0641 14.657 14.657C15.102 14.212 15.375 13.766 15.58 13.24C15.777 12.731 15.912 12.15 15.952 11.298C15.99 10.445 16 10.173 16 8C16 5.827 15.99 5.555 15.952 4.701C15.912 3.85 15.777 3.268 15.58 2.76C15.3789 2.22623 15.0639 1.74268 14.657 1.343C14.2576 0.935676 13.774 0.620645 13.24 0.42C12.73 0.222 12.148 0.087 11.297 0.048C10.443 0.01 10.172 0 7.998 0H8.001H8ZM7.283 1.442H8.001C10.137 1.442 10.39 1.449 11.233 1.488C12.013 1.523 12.437 1.654 12.719 1.763C13.092 1.908 13.359 2.082 13.639 2.362C13.919 2.642 14.092 2.908 14.237 3.282C14.347 3.563 14.477 3.987 14.512 4.767C14.551 5.61 14.559 5.863 14.559 7.998C14.559 10.133 14.551 10.387 14.512 11.23C14.477 12.01 14.346 12.433 14.237 12.715C14.1087 13.0624 13.904 13.3764 13.638 13.634C13.358 13.914 13.092 14.087 12.718 14.232C12.438 14.342 12.014 14.472 11.233 14.508C10.39 14.546 10.137 14.555 8.001 14.555C5.865 14.555 5.611 14.546 4.768 14.508C3.988 14.472 3.565 14.342 3.283 14.232C2.9355 14.1039 2.62113 13.8996 2.363 13.634C2.09675 13.376 1.89172 13.0617 1.763 12.714C1.654 12.433 1.523 12.009 1.488 11.229C1.45 10.386 1.442 10.133 1.442 7.996C1.442 5.86 1.45 5.608 1.488 4.765C1.524 3.985 1.654 3.561 1.764 3.279C1.909 2.906 2.083 2.639 2.363 2.359C2.643 2.079 2.909 1.906 3.283 1.761C3.565 1.651 3.988 1.521 4.768 1.485C5.506 1.451 5.792 1.441 7.283 1.44V1.442ZM12.271 2.77C12.1449 2.77 12.0201 2.79483 11.9036 2.84308C11.7872 2.89132 11.6813 2.96203 11.5922 3.05118C11.503 3.14032 11.4323 3.24615 11.3841 3.36262C11.3358 3.4791 11.311 3.60393 11.311 3.73C11.311 3.85607 11.3358 3.9809 11.3841 4.09738C11.4323 4.21385 11.503 4.31968 11.5922 4.40882C11.6813 4.49797 11.7872 4.56868 11.9036 4.61692C12.0201 4.66517 12.1449 4.69 12.271 4.69C12.5256 4.69 12.7698 4.58886 12.9498 4.40882C13.1299 4.22879 13.231 3.98461 13.231 3.73C13.231 3.47539 13.1299 3.23121 12.9498 3.05118C12.7698 2.87114 12.5256 2.77 12.271 2.77ZM8.001 3.892C7.45607 3.8835 6.91489 3.98349 6.40898 4.18614C5.90306 4.3888 5.44251 4.69007 5.05415 5.07242C4.66579 5.45478 4.35736 5.91057 4.14684 6.41326C3.93632 6.91595 3.8279 7.4555 3.8279 8.0005C3.8279 8.5455 3.93632 9.08505 4.14684 9.58774C4.35736 10.0904 4.66579 10.5462 5.05415 10.9286C5.44251 11.3109 5.90306 11.6122 6.40898 11.8149C6.91489 12.0175 7.45607 12.1175 8.001 12.109C9.07954 12.0922 10.1082 11.6519 10.865 10.8833C11.6217 10.1146 12.0459 9.07917 12.0459 8.0005C12.0459 6.92183 11.6217 5.88641 10.865 5.11775C10.1082 4.34909 9.07954 3.90883 8.001 3.892ZM8.001 5.333C8.70833 5.333 9.38669 5.61399 9.88685 6.11415C10.387 6.61431 10.668 7.29267 10.668 8C10.668 8.70733 10.387 9.38569 9.88685 9.88585C9.38669 10.386 8.70833 10.667 8.001 10.667C7.29367 10.667 6.61531 10.386 6.11515 9.88585C5.61499 9.38569 5.334 8.70733 5.334 8C5.334 7.29267 5.61499 6.61431 6.11515 6.11415C6.61531 5.61399 7.29367 5.333 8.001 5.333Z" fill="#4A525F"/>
                                </g>
                                <defs>
                                    <clipPath id="clip0_389_2578">
                                    <rect width="16" height="16" fill="white"/>
                                    </clipPath>
                                </defs>
                            </svg>
                        </li>
                    </ul>
                </div>
            </div>
        </diiv>
    </div></div>
            </div>
        </main>


@* <div>
    @User.Identity.Name
</div>  *@

@* <div class="row">
    @if (Model != null && Model.Any())
    {
        @foreach (var item in Model)
        {
            <div class="card m-1" style="width:350px;">
                <div class="card-body">
                    <h5 class="card-title">@Html.DisplayFor(modelItem => item.Artists)</h5>
                    <h6 class="card-subtitle mb-2 text-muted">@Html.DisplayFor(modelItem => item.Name)</h6>
                    <p class="card-text">@Html.DisplayFor(modelItem => item.Date)</p>
                    <img src="@Html.DisplayFor(modelItem => item.ImageUrl)" width="300" height="300" alt="Release picture" />
                    <a href="@Html.DisplayFor(modelItem => item.Link)" target="_blank">Listen</a>
                </div>
            </div>
        }
    }
    else
    {
        <p>No data available</p>
    }
</div> *@